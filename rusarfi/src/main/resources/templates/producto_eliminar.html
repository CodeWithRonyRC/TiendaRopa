<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="es">
<head th:replace="~{layout/base::head}"></head>
<body class="d-flex flex-column min-vh-100">

<nav th:replace="~{layout/base::navbar}"></nav>
<main class="container py-4">
    <div class="card shadow-sm">
        <div class="card-header bg-danger text-white fw-bold">
            Confirmar eliminaci칩n de producto
        </div>

        <div class="card-body bg-light">
            <h4 class="text-danger mb-4 text-center">
                丘멆잺 쮼st치s seguro de que deseas eliminar este producto?
            </h4>

            <!-- 游댳 Detalles del producto -->
            <div class="row">
                <div class="col-md-6">
                    <p><strong>Nombre:</strong> <span th:text="${producto.nombreProducto}"></span></p>
                    <p><strong>Descripci칩n:</strong></p>
                    <p class="border rounded p-2 bg-white" th:text="${producto.descripcionProducto}"></p>
                    <p><strong>Precio:</strong> S/ <span th:text="${producto.precio}"></span></p>
                    <p><strong>Stock:</strong> <span th:text="${producto.stock}"></span></p>
                    <p><strong>Talla:</strong> <span th:text="${producto.talla}"></span></p>
                    <p><strong>Categor칤a:</strong> <span th:text="${producto.categoria.nombre}"></span></p>
                </div>

                <!-- 游댳 Vista de im치genes -->
                <div class="col-md-6">
                    <p><strong>Im치genes:</strong></p>
                    <div class="d-flex flex-wrap gap-2">
                        <img th:each="img : ${producto.imagenProductos}"
                             th:src="@{${img.urlImagen}}"
                             class="img-thumbnail"
                             style="width: 130px; height: 130px; object-fit: cover;">
                        <p th:if="${#lists.isEmpty(producto.imagenProductos)}" class="text-muted">
                            No hay im치genes registradas.
                        </p>
                    </div>
                </div>
            </div>

            <hr>

            <!-- 游댳 Mensaje de advertencia -->
            <div class="alert alert-warning mt-3" role="alert">
                Esta acci칩n eliminar치 el producto de forma permanente y no podr치 deshacerse.
            </div>

            <!-- 游댳 Botones -->
            <div class="text-end mt-4">
                <a href="/inventario" class="btn btn-secondary me-2">
                    <i class="bi bi-arrow-left"></i> Cancelar
                </a>

                <form th:action="@{/inventario/eliminar/{id}(id=${producto.id})}" method="post" class="d-inline">
                    <button type="submit" class="btn btn-danger fw-bold">
                        <i class="bi bi-trash"></i> Eliminar definitivamente
                    </button>
                </form>
            </div>
        </div>
    </div>
</main>


<footer th:replace="~{layout/base::footer}"></footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>
